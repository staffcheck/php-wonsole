<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>PHP Wonsole</title> <style type="text/css">body{width:1200px;margin:20px auto;background-color:#fff;color:#333;font-family:Verdana,Arial,sans-serif}#main{width:800px;float:left}#sidebar{width:350px;float:right;color:#999}#sidebar pre{padding-bottom:1em;border-bottom:1px dotted #ccc}#sidebar a{text-decoration:none;color:#999}#results{display:none}#results pre{padding:10px;margin:10px 0}#footer{font-size:.9em;padding-top:1em;margin-top:1em;border-top:1px solid #ccc;color:#999}#wait{display:none}#counters{display:none;font-size:.9em}textarea,pre{font-family:Consolas,'Andale Mono','Lucida Console','Lucida Typewriter','Courier New',monospace;font-size:1em}textarea{width:100%;padding:3px}h3{font-size:1em;letter-spacing:-1px;margin:0}</style> </head> <body> <div id="sidebar"> <h3>Code History:</h3> <div id="history"> </div> </div> <div id="main"> <p>Enter PHP code and press Ctrl+Enter:</p> <textarea id="code" rows="20" spellcheck="false">phpinfo();</textarea> <p id="counters">Ln: <span id="line-no"></span> Col: <span id="col-no"></span></p> <p><img id="wait" src="wait.gif" width="16" height="11"></p> <div id="results"> <div id="output-div"> <h3>Output:</h3> <pre id="output"></pre> </div> <div id="vardump-div"> <h3>Variable Dump:</h3> <pre id="vardump"></pre> </div> </div> <p id="footer">PHP Wonsole created by <a href="http://apprikos.se">Apprikos</a>.</p> </div> <script type="text/javascript" src="mootools-core-1.4.5.js"></script> <script type="text/javascript">function addCodeToHistory(a){var c=getCodeHistory();c.unshift(a);if(c.length>20){c=c.slice(0,19)}try{localStorage.setItem("phpw-history",JSON.encode(c))}catch(b){alert(b)}}function getCodeHistory(){var a=localStorage.getItem("phpw-history");if(a){return JSON.decode(a)}else{return[]}}function updateHistory(){var e=getCodeHistory();var f=$("history");var d=null;var b=null;f.empty();for(var c in e){b=new Element("a",{href:"#",text:e[c],events:{click:function(a){$("code").value=this.get("text");updateLC();execute();a.stop()}}});d=$(new Element("pre"));d.grab(b);f.grab(d)}}function execute(){$$("#results").setStyle("display","none");$$("#wait").setStyle("display","inline");var b=$("code").value;if(b.length==0){return}addCodeToHistory(b);updateHistory();var a=new Request.JSON({url:"executor.php",data:{code:b},onSuccess:function(c){if(c.output.length>0){$$("#output").set("html",c.output);$$("#output-div").setStyle("display","block")}else{$$("#output-div").setStyle("display","none")}if(c.vars.length>0){$$("#vardump").set("html",c.vars);$$("#vardump-div").setStyle("display","block")}else{$$("#vardump-div").setStyle("display","none")}$$("#results").setStyle("display","block");$$("#wait").setStyle("display","none");$("code").focus()}});a.send()}function updateLC(){if(!browserHasSelectionStart){return}var b=$("code");var a=b.value.substring(0,b.selectionStart).split("\n");$$("#line-no").set("text",a.length);$$("#col-no").set("text",a.pop().length+1)}var browserHasSelectionStart;window.addEvent("domready",function(){browserHasSelectionStart=typeof $("code").selectionStart!=="undefined";if(browserHasSelectionStart){$$("#counters").setStyle("display","block")}updateHistory();var a=getCodeHistory();if(a.length>0){$$("#code").set("value",a[0])}$("code").addEvent("keydown",function(b){if(b.control&&b.key==="enter"){b.stop();execute()}else{if(b.key==="tab"&&browserHasSelectionStart){var e="    ";var d=this.selectionStart;var c=this.selectionEnd;this.value=this.value.substring(0,d)+e+this.value.substring(c,this.value.length);this.focus();this.selectionStart=d+e.length;this.selectionEnd=d+e.length;b.stop()}}});$("code").addEvent("keyup",updateLC);$("code").addEvent("mouseup",updateLC);$("code").focus();updateLC();document.cookie="phpw-code=; expires=Fri, 27 Jul 2001 02:47:11 UTC"});</script>