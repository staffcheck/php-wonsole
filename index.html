<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>PHP Wonsole</title> <style type="text/css">body{width:1200px;margin:20px auto;background-color:#fff;color:#333;font-family:Verdana,Arial,sans-serif}#main{width:800px;float:left}#sidebar{width:350px;float:right;color:#999}#sidebar pre{padding-bottom:1em;border-bottom:1px dotted #ccc}#sidebar a{text-decoration:none;color:#999}#results{display:none}#results pre{padding:10px;margin:10px 0}#footer{font-size:.9em;padding-top:1em;margin-top:1em;border-top:1px solid #ccc;color:#999}#wait{display:none}#counters{display:none;font-size:.9em}textarea,pre{font-family:Consolas,'Andale Mono','Lucida Console','Lucida Typewriter','Courier New',monospace;font-size:1em}textarea{width:100%;padding:3px}h3{font-size:1em;letter-spacing:-1px;margin:0}</style> </head> <body> <div id="sidebar"> <h3>Code History:</h3> <div id="history"> </div> </div> <div id="main"> <p>Enter PHP code and press Ctrl+Enter:</p> <textarea id="code" rows="20" spellcheck="false">phpinfo();</textarea> <p id="counters">Ln: <span id="line-no"></span> Col: <span id="col-no"></span></p> <p><img id="wait" src="wait.gif" width="16" height="11"></p> <div id="results"> <div id="output-div"> <h3>Output:</h3> <pre id="output"></pre> </div> <div id="vardump-div"> <h3>Variable Dump:</h3> <pre id="vardump"></pre> </div> </div> <p id="footer">PHP Wonsole created by <a href="http://apprikos.se">Apprikos</a>.</p> </div> <script type="text/javascript" src="jquery-1.6.2.min.js"></script> <script type="text/javascript">function addCodeToHistory(a){var c=getCodeHistory();if($.inArray(a,c)!=-1){return}c.unshift(a);if(c.length>20){c=c.slice(0,19)}try{localStorage.setItem("phpw-history",JSON.stringify(c))}catch(b){if(b==QUOTA_EXCEEDED_ERR){alert("Quota exceeded!")}}}function getCodeHistory(){var a=localStorage.getItem("phpw-history");if(a){return JSON.parse(a)}else{return[]}}function updateHistory(){var e=getCodeHistory();var f=$("#history");var d=null;var b=null;f.empty();for(var c in e){d=$("<pre></pre>");b=$("<a></a>");b.text(e[c]);b.attr("href","#");b.bind("click",function(a){$("#code").val($(this).text());updateLC();execute();return false});d.append(b);f.append(d)}}function execute(){$("#results").hide();$("#wait").show();var a=$.trim($("#code").val());if(a.length==0){return}addCodeToHistory(a);updateHistory();$.post("executor.php",{code:a},function(c){var b={};try{b=JSON.parse(c)}catch(d){b.output=c;b.vars=""}b.output=$.trim(b.output);b.output=b.output.replace(/^(<br ?\/?>)+/,"");b.output=b.output.replace(/(<br ?\/?>)+$/,"");b.output=b.output.replace(/<br ?\/?>+/g,"<br>");if(b.output.length>0){$("#output").html(b.output);$("#output-div").show()}else{$("#output-div").hide()}if(b.vars.length>0){$("#vardump").html(b.vars);$("#vardump-div").show()}else{$("#vardump-div").hide()}$("#results").show();$("#wait").hide();$("#code").focus()})}function updateLC(){if(!browserHasSelectionStart){return}var b=$("#code")[0];var a=b.value.substring(0,b.selectionStart).split("\n");$("#line-no").text(a.length);$("#col-no").text(a.pop().length+1)}var browserHasSelectionStart;$(document).ready(function(){browserHasSelectionStart=typeof $("#code")[0].selectionStart!=="undefined";if(browserHasSelectionStart){$("#counters").show()}updateHistory();var a=getCodeHistory();if(a.length>0){$("#code").val(a[0])}$("#code").keydown(function(e){if(e.keyCode===13&&e.ctrlKey){execute()}else{if(e.keyCode===9&&browserHasSelectionStart){var d="    ";var c=this.selectionStart;var b=this.selectionEnd;this.value=this.value.substring(0,c)+d+this.value.substring(b,this.value.length);this.focus();this.selectionStart=c+d.length;this.selectionEnd=c+d.length;e.preventDefault()}}return true});$("#code").keyup(updateLC);$("#code").mouseup(updateLC);$("#code").focus();updateLC();document.cookie="phpw-code=; expires=Fri, 27 Jul 2001 02:47:11 UTC"});</script>